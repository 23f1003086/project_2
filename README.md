# LLM Quiz Solver

A FastAPI-based quiz-solving service that uses a large language model (via AIPipe/OpenAI) to automatically solve web-based quizzes. It fetches quiz content, optionally processes attached data (CSV, PDF, audio), generates Python code to compute answers, and submits them to the quiz endpoint.

Designed to run on **Hugging Face Spaces** with environment-based secrets.

---

## Features

- Automatic extraction of quiz content (HTML or base64-encoded)
- Supports CSV, TSV, PDF, JSON, and basic media references
- Executes Python code generated by the LLM to compute answers
- Handles multi-step quiz chains
- Tracks quiz solving progress per email
- Submission via the quiz endpoint URL
- Async Playwright browser automation

---

## Environment Variables (Secrets)

You must add the following **Secrets** in your Hugging Face Space:

| Name             | Description |
|-----------------|-------------|
| `STUDENT_SECRET` | Secret key used to validate quiz requests |
| `AIPIPE_TOKEN`   | API key for AIPipe/OpenAI service |
| `QUIZ_TIMEOUT_SECONDS` | Optional: max time per quiz  |

> Go to your Space → Settings → Secrets → Add these variables.

---

## How to Run

### Local Development

```bash
# Install dependencies
pip install -r requirements.txt

# Set environment variables locally (for testing)
export STUDENT_SECRET="your_secret"
export AIPIPE_TOKEN="your_aipipe_token"
export QUIZ_TIMEOUT_SECONDS=175

# Run the API
python main.py
